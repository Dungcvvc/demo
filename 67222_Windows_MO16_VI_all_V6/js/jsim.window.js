/***js/jSim_Window.js begin ***/
jSim.createNameSpace("Window",function(windowPath){this.model=new jSim.Window.Model();this.view=new jSim.Window.View(this.model,this)});jSim.Window.inheritsFrom(jSim.Abstract.Controller);jSim.Window.extend({init:function(windowPath){this.model.path=windowPath},specializedInit:function(){},open:function(){try{if(!this.model.initialized){this.model.initialized=true;this.specializedInit()}this.model.path.goTo('1');this.setWindowFromJSon(this.model.JSonInit);var numArgs=arguments.length;var i=0;var tmpString='';if(numArgs!==0){for(i;i<numArgs;i++){tmpString=tmpString+'"'+arguments[i]+'",'}tmpString=tmpString.substring(0,tmpString.length-1);var myCode="this.specializedOpen("+tmpString+");";eval(myCode)}else{this.specializedOpen()}this.model.visible=true}catch(e){Utils.printException(e,'Open')}},specializedOpen:function(){},close:function(){try{this.model.path.goTo('0');this.reset();this.model.visible=false;this.specializedClose()}catch(e){Utils.printException(e,'close')}},specializedClose:function(){},reset:function(){try{this.setWindowFromJSon(this.model.JSonInit);this.specializedReset()}catch(e){Utils.printException(e,'Open')}},specializedReset:function(){},confirm:function(){try{this.setJSonFromWindow(this.model.JSonFinal);this.parseJSon(this.model.JSonTest);var jsonApp=this.model.JSonInit;var resultForNotChanged=this.compareJSonInit(jsonApp,this.model.JSonFinal);if(resultForNotChanged){return this.close()}else{var result=this.compareJSon(this.model.JSonFinal,this.model.JSonTest);this.specializedConfirm(result)}}catch(e){Utils.printException(e,'confirm')}},specializedConfirm:function(testResult){},isVisible:function(){return this.model.visible},setWindowFromJSon:function(JSonDescription){var singleObj,i=0,tmpLength=JSonDescription.obj.length;for(i;i<tmpLength;i+=1){singleObj=JSonDescription.obj[i].path;switch(singleObj.getType()){case'textbox':singleObj.setText(JSonDescription.obj[i].value);break;case'button':singleObj.goTo(JSonDescription.obj[i].value);break}singleObj=null}},setJSonFromWindow:function(JSonDescription){try{var singleObj,i=0,j=0,objLength=JSonDescription.obj.length,removeLength=0,tmpObj;for(i;i<objLength;i+=1){tmpObj=JSonDescription.obj[i];singleObj=tmpObj.path;switch(singleObj.getType()){case'textbox':tmpObj.value=singleObj.getText().toLowerCase().replace(/ /g,"");if(tmpObj.remove!==null){j=0;removeLength=tmpObj.remove.length;for(j;j<removeLength;j+=1){tmpObj.value=tmpObj.value.replace(tmpObj.remove[j],"")}}switch(tmpObj.type){case'number':tmpObj.value=''+Number(tmpObj.value);break;default:break}break;case'button':tmpObj.value=singleObj.getCurrentFrame();break}singleObj=null}}catch(e){Utils.printException(e,'setJSonFromWindow')}},parseJSon:function(JSonDescription){try{var singleObj,i=0,j=0,tmpObj,tmpLength=JSonDescription.obj.length,removeLength;for(i;i<tmpLength;i+=1){tmpObj=JSonDescription.obj[i];singleObj=tmpObj.path;switch(singleObj.getType()){case'textbox':if(tmpObj.remove!==null){j=0;removeLength=tmpObj.remove.length;for(j;j<removeLength;j+=1){tmpObj.value=tmpObj.value.replace(tmpObj.remove[j],"")}}switch(tmpObj.type){case'number':tmpObj.value=''+Number(tmpObj.value);break;default:break}break}singleObj=null}}catch(e){Utils.printException(e,'parseJson')}},compareJSon:function(jSonOnWin,jSonTest){var singleObjOnWin,singleObjTest,valueOnWin,valueTest;if(jSonOnWin.obj.length===jSonTest.obj.length){var i=0;for(i;i<jSonOnWin.obj.length;i++){singleObjOnWin=jSonOnWin.obj[i].path;singleObjTest=jSonTest.obj[i].path;if(this.testOnObject(singleObjOnWin,singleObjTest)){valueOnWin=jSonOnWin.obj[i].value;valueTest=jSonTest.obj[i].value;if(!this.testOnValue(valueOnWin,valueTest)){return false}}else{return RTSetValue('/qco/logged','*** oggetti non uguali in path***')}singleObjOnWin=null;singleObjTest=null;valueOnWin=null;valueTest=null}return true}else{return RTSetValue('/qco/logged','*** oggetti non uguali in numero ***')}},compareJSonInit:function(jSonOnWin,jSonTest){var singleObjOnWin,singleObjTest,valueOnWin,valueTest,objOnWin;if(jSonOnWin.obj.length===jSonTest.obj.length){var i=0;for(i;i<jSonOnWin.obj.length;i++){singleObjOnWin=jSonOnWin.obj[i].path;singleObjTest=jSonTest.obj[i].path;if(this.testOnObject(singleObjOnWin,singleObjTest)){valueOnWin=jSonOnWin.obj[i].value;objOnWin=jSonOnWin.obj[i];switch(singleObjOnWin.getType()){case'textbox':if(jSonOnWin.obj[i].remove!==null){var j;for(j=0;j<jSonOnWin.obj[i].remove.length;j++){valueOnWin=jSonOnWin.obj[i].value;valueOnWin=valueOnWin.replace(objOnWin.remove[j],"")}}switch(jSonOnWin.obj[i].type){case'number':valueOnWin=''+Number(valueOnWin);break;default:break}break}valueTest=jSonTest.obj[i].value;if(!this.testOnValue(valueOnWin,valueTest)){return false}}else{return RTSetValue('/qco/logged','*** oggetti non uguali in path***')}singleObjOnWin=null;singleObjTest=null;valueOnWin=null;valueTest=null;objOnWin=null}return true}else{return RTSetValue('/qco/logged','*** oggetti non uguali in numero ***')}},maskedCompareJSon:function(jSonOnWin,jSonTest){var singleObjOnWin,singleObjTest,valueOnWin,valueTest,jSonOnWinMasked;jSonOnWinMasked=jSonOnWin;if(jSonOnWinMasked.obj.length===jSonTest.obj.length){var i=0;for(i;i<jSonOnWinMasked.obj.length;i++){singleObjOnWin=jSonOnWinMasked.obj[i].path;singleObjTest=jSonTest.obj[i].path;if(this.testOnObject(singleObjOnWin,singleObjTest)){valueOnWin=jSonOnWinMasked.obj[i].value;valueTest=jSonTest.obj[i].value;if(!this.testOnValue(valueOnWin,valueTest)){return false}}else{return RTSetValue('/qco/logged','*** oggetti non uguali in path***')}singleObjOnWin=null;singleObjTest=null;valueOnWin=null;valueTest=null}return true}else{return RTSetValue('/qco/logged','*** oggetti non uguali in numero ***')}},testOnObject:function(_obj1,_obj2){if(_obj1===_obj2){return true}else{return false}},testOnValue:function(_value1,_value2){try{var _tmpValue1=_value1;var _tmpValue2=_value2;if(typeof _value1==="string"){_tmpValue1=_value1.toLowerCase().replace(/ /g,"")}if(typeof _value2==="string"){_tmpValue2=_value2.toLowerCase().replace(/ /g,"")}if(_tmpValue1===_tmpValue2){return true}else{return false}}catch(e){RTSetValue('/qco/logged','*** no string ***'+e)}}});jSim.Window.createNameSpace("Model",function(){this.name="window";this.path=null;this.initialized=false;this.visible=false;this.JSonInit=null;this.JSonFinal=null;this.JSonTest=null});jSim.Window.Model.inheritsFrom(jSim.Abstract.Model);jSim.Window.createNameSpace("View",function(model,controller){this.model=model;this.controller=controller});jSim.Window.View.inheritsFrom(jSim.Abstract.View);
/***js/jSim_Window.js end ***/
